let interval = setInterval(() => {
  let isCSSLoaded = true;
  Array.from(document.querySelectorAll("link[rel='stylesheet']"), function (elem) {
    if (!Boolean(elem.sheet)) {
      isCSSLoaded = false;
    }
  });
  if (isCSSLoaded) {
    document.body.style.visibility = "visible";
    clearInterval(interval);
  }
}, 500);
$('.nav-toggle').click(function () {
  $('html').toggleClass('nav-open');
});
$('.nav-sections-item-title').click(function () {
  $(this).siblings().removeClass('active');
  $(this).addClass('active');
  $('.nav-sections-item-content').hide(0).attr('aria-hidden', 'false');
  $(this).next('.nav-sections-item-content').show(0).attr('aria-hidden', 'true');
});
$('header .opener').click(function () {
  if ($(this).closest('.nav-item').hasClass('ninjamenus-toggle-active')) {
    $(this).siblings('.item-submenu').find('.item-submenu').hide(0);
    $(this).siblings('.item-submenu').hide(0);
  } else {
    $(this).siblings('.item-submenu').find('.item-submenu').show(0);
    $(this).siblings('.item-submenu').show(0);
  }
  $(this).closest('.nav-item').toggleClass('ninjamenus-toggle-active');
});
$('header .nav-item.mega').hover(function () {
  if ($(window).width() >= 1025) {
    $(this).find('.item-submenu').show(0);
  }
}, function () {
  if ($(window).width() >= 1025) {
    $(this).find('.item-submenu').hide(0);
  }
});
if (document.getElementById("top-categories")) {
  $("#top-categories").slick({ infinite: true, slidesToShow: 2, slidesToScroll: 2, dots: false, arrows: true });
}
if (document.getElementById("charities-support")) {
  $("#charities-support").slick({ infinite: true, slidesToShow: 2, slidesToScroll: 2, dots: false, arrows: true });
}
$(".widget-product-carousel:not(.widget-product-carousel-free-download)").slick({
  infinite: true,
  slidesToShow: 4,
  slidesToScroll: 4,
  dots: false,
  arrows: true,
  variableWidth: true,
  repsonsive: [
    {
      breakpoint: 768,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2,
      }
    }
  ]
});
$(".widget-product-carousel-free-download").slick({
  infinite: true,
  slidesToShow: 2,
  slidesToScroll: 2,
  dots: false,
  arrows: true,
  variableWidth: true
});
const platform = navigator?.userAgentData?.platform || navigator?.platform || "";
if (platform.toLowerCase().includes("mac")) {
  document.body.classList.add("mac-os");
}

var collItem = document.getElementsByClassName("collapsible-item");
var i;
for (i = 0; i < collItem.length; i++) {
  collItem[i].addEventListener("click", function () {
    this.classList.toggle("active");
    var content = this.querySelector('.content');;
    if (content.style.display === "block") {
      content.style.display = "none";
    } else {
      content.style.display = "block";
    }
  });
}